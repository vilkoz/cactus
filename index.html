<!DOCTYPE html>
<html>
<head>

	<title>Quick Start - Leaflet</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js" integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg==" crossorigin=""></script>
</head>
<body>

<div id="mapid" style="width: 600px; height: 400px;"></div>
<script>
	//var mymap = L.map('mapid').setView([51.505, -0.09], 13);
	var mymap;
  navigator.geolocation.getCurrentPosition(function(position) {
    console.log('--- Your Position: ---');
    console.log('Lat: ' + position.coords.latitude);
    latit = position.coords.latitude;
    console.log('Long: ' + position.coords.longitude);
    longit = position.coords.longitude;
    console.log('---------------------');
	mymap = L.map('mapid').setView([latit, longit], 13);
	L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);
	var place = new L.LayerGroup();

	L.marker([latit + 0.015, longit + 0.015]).bindPopup('This is Littleton, CO.').addTo(place),
	L.marker([latit + 0.015, longit - 0.015]).bindPopup('This is Denver, CO.').addTo(place),
	L.marker([latit - 0.015, longit + 0.015]).bindPopup('This is Aurora, CO.').addTo(place),
	L.marker([latit - 0.015, longit - 0.015]).bindPopup('This is Golden, CO.').addTo(place);

	var action = new L.LayerGroup();

	L.marker([latit + 0.0215, longit + 0.0215]).bindPopup('This is Littleton, CO.').addTo(action),
	L.marker([latit + 0.0215, longit - 0.0215]).bindPopup('This is Denver, CO.').addTo(action),
	L.marker([latit - 0.0215, longit + 0.0215]).bindPopup('This is Aurora, CO.').addTo(action),
	L.marker([latit - 0.0215, longit - 0.0215]).bindPopup('This is Golden, CO.').addTo(action);
	var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
	mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

	var streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets',   attribution: mbAttr})
	var baseLayers = {
	}

	var overlays = {"Места": place, "События" : action};
	L.control.layers(baseLayers, overlays).addTo(mymap);
	var greenIcon = L.icon({
    iconUrl: '../hat.png',
    iconSize:     [50, 85],
    iconAnchor:   [22, 94],
    popupAnchor:  [-3, -76]
});
	L.marker([latit, longit], {icon: greenIcon}).addTo(mymap)
		.bindPopup("<b>Hello world!</b><br />Петушня сидит тут. <a href='google.com'>OpenStreetMap</a>").openPopup();
	//L.marker([latit - 0.02, longit - 0.02]).addTo(mymap)
		//.bindPopup("<b>Hello world!</b><br />Петушня сидит ");
		// 	L.marker([latit + 0.02, longit + 0.02]).addTo(mymap)
		// 		.bindPopup("<b>Hello world!</b><br />Петушня сидит тут.").openPopup();
	var popup = L.popup();
	function onMapClick(e) {
		popup
			.setLatLng(e.latlng)
			.setContent("You clicked the map at " + e.latlng.toString())
			.openOn(mymap);
	}
	mymap.on('click', onMapClick);
	})
</script>
</body>
</html>
<!-- <!DOCTYPE html>
<html>
  <head>
    <title>OpenStreetMap Reprojection</title>
    <link rel="stylesheet" href="https://openlayers.org/en/v4.1.1/css/ol.css" type="text/css">
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.1.1/build/ol.js"></script>
  </head>
  <body>
    <div id="map" class="map"></div>
    <script>
      var map = new ol.Map({
        layers: [
          new ol.layer.Tile({
            source: new ol.source.OSM()
          })
        ],
        target: 'map',
        view: new ol.View({
          center: ol.proj.transform([30,50], 'EPSG:4326', 'EPSG:3857'),
          zoom: 5
	  })
      });
    </script>
  </body>
</html> -->
